<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Real Zodiac</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Prompt&display=swap"
      rel="stylesheet"
    />
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <script src="script/jquery-3.5.1.min.js"></script>
    <script
      src="https://kit.fontawesome.com/3437ca9b77.js"
      crossorigin="anonymous"
    ></script>
    <style>
      body {
        background-image: url("img/bg_main.png");
        background-size: cover;
      }
      .textbox {
        font-size: 36px;
        font-weight: bold;
        text-align: center;
        margin: 0;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        display: none;
      }
    </style>
  </head>

  <body>
    <div id="darken"></div>
    <!-- Text Part 1 -->
    <a class="btn_skip" href="#" id="skip01"
      >Skip <i class="fas fa-step-forward"></i
    ></a>
    <div id="t1" class="textbox">ไง! ตามมาแล้วเหรอ</div>
    <div id="t2" class="textbox">ดูท่าทางแล้วเธอคงอยากจะรู้จริงๆสินะ</div>
    <div id="t3" class="textbox">ฉันจะช่วยคำนวณราศีจริงของเธอเอง</div>
    <div id="t4" class="textbox">แต่ก่อนอื่นเลย</div>
    <div id="t5" class="textbox">
      <p>ฉันขอวันเกิดของเธอหน่อยสิ</p>
      <input id="date_input" type="date" />
      <p class="error" id="error">เธอลืมใส่วันเกิดหรือใส่วันจากอนาคตรึเปล่า?</p>
      <button id="first_submit">Next</button>
    </div>

    <!-- Text Part 2 -->
    <div id="t6" class="textbox">
      <p>ราศีของเธอคือ...</p>
      <div id="t6-01" style="display: none">
        <img src="รูป3/เมษ.PNG" class="zodiac_result" />
        <p>ราศีเมษ</p>
      </div>
      <div id="t6-02" style="display: none">
        <img src="รูป3/พฤษภ.PNG" class="zodiac_result" />
        <p>ราศีพฤษภ</p>
      </div>
      <div id="t6-03" style="display: none">
        <img src="รูป3/เมถุน.PNG" class="zodiac_result" />
        <p>ราศีเมถุน</p>
      </div>
      <div id="t6-04" style="display: none">
        <img src="รูป3/กรกฎ.PNG" class="zodiac_result" />
        <p>ราศีกรกฎ</p>
      </div>
      <div id="t6-05" style="display: none">
        <img src="รูป3/สิงค์.PNG" class="zodiac_result" />
        <p>ราศีสิงห์</p>
      </div>
      <div id="t6-06" style="display: none">
        <img src="รูป3/กันย์.PNG" class="zodiac_result" />
        <p>ราศีกันย์</p>
      </div>
      <div id="t6-07" style="display: none">
        <img src="รูป3/ตุลย์.PNG" class="zodiac_result" />
        <p>ราศีตุลย์</p>
      </div>
      <div id="t6-08" style="display: none">
        <img src="รูป3/พิจิก.PNG" class="zodiac_result" />
        <p>ราศีพิจิก</p>
      </div>
      <div id="t6-09" style="display: none">
        <img src="รูป3/ธนู.PNG" class="zodiac_result" />
        <p>ราศีธนู</p>
      </div>
      <div id="t6-10" style="display: none">
        <img src="รูป3/มังกร.PNG" class="zodiac_result" />
        <p>ราศีมังกร</p>
      </div>
      <div id="t6-11" style="display: none">
        <img src="รูป3/กุมภ์.PNG" class="zodiac_result" />
        <p>ราศีกุมภ์</p>
      </div>
      <div id="t6-12" style="display: none">
        <img src="รูป3/มีน.PNG" class="zodiac_result" />
        <p>ราศีมีน</p>
      </div>
      <p id="t6-13" style="display: none; font-size: 18px">
        ถ้าอิงแค่ตามวันเกิดอะนะ...
      </p>
    </div>

    <script>
      // Variables
      // Today Date
      var today = new Date();
      var dd = String(today.getDate()).padStart(2, "0");
      var mm = String(today.getMonth() + 1).padStart(2, "0"); //January is 0!
      var yyyy = today.getFullYear();
      today = yyyy + "-" + mm + "-" + dd;

      // Birthday
      var b_day;
      var b_day_mmdd;

      // Skip Button
      $("#skip01").click(function (e) {
        e.preventDefault();
        $("#t1, #t2, #t3, #t4, #t5, #skip01, #darken")
          .stop(true, true)
          .fadeOut(1000);
        $("#t5").delay(1000).fadeIn(3000);
        $("#skip01, #darken").fadeOut(500);
      });

      // Fade in texts
      $(document).ready(function () {
        $("#skip01").fadeIn(500);
        $("#t1").fadeIn(3000);
        $("#t1").delay(1000).fadeOut(3000);
        $("#t2").delay(7000).fadeIn(3000);
        $("#t2").delay(1000).fadeOut(3000);
        $("#t3").delay(14000).fadeIn(3000);
        $("#t3").delay(1000).fadeOut(3000);
        $("#t4").delay(21000).fadeIn(3000);
        $("#t4").delay(1000).fadeOut(3000);
        $("#skip01, #darken").delay(24000).fadeOut(3000);
        $("#t5").delay(28000).fadeIn(3000);
      });

      // First Submit
      $("#first_submit").click(function () {
        // Birthday
        var b_day_input = $("#date_input").val();
        b_day = new Date(b_day_input);
        var b_dd = String(b_day.getDate()).padStart(2, "0");
        var b_mm = String(b_day.getMonth() + 1).padStart(2, "0"); //January is 0!
        var b_yyyy = b_day.getFullYear();
        b_day = b_yyyy + "-" + b_mm + "-" + b_dd;
        b_day_mmdd = b_mm + "-" + b_dd;
        if (b_day > today) {
          $("#error").fadeIn(500);
          $("#error").delay(3500).fadeOut(500);
        } else {
          $("#t5").fadeOut(3000);
          $("#darken").fadeIn(3000);
          $("#t6").delay(3000).fadeIn(3000);
          if (b_day_mmdd >= "03-22" && b_day_mmdd <= "04-21") {
            $("#t6-01").delay(7000).fadeIn(3000);
          } else if (b_day_mmdd >= "04-22" && b_day_mmdd <= "05-21") {
            $("#t6-02").delay(7000).fadeIn(3000);
          } else if (b_day_mmdd >= "05-22" && b_day_mmdd <= "06-21") {
            $("#t6-03").delay(7000).fadeIn(3000);
          } else if (b_day_mmdd >= "06-22" && b_day_mmdd <= "07-21") {
            $("#t6-04").delay(7000).fadeIn(3000);
          } else if (b_day_mmdd >= "07-22" && b_day_mmdd <= "08-21") {
            $("#t6-05").delay(7000).fadeIn(3000);
          } else if (b_day_mmdd >= "08-22" && b_day_mmdd <= "09-21") {
            $("#t6-06").delay(7000).fadeIn(3000);
          } else if (b_day_mmdd >= "09-22" && b_day_mmdd <= "10-21") {
            $("#t6-07").delay(7000).fadeIn(3000);
          } else if (b_day_mmdd >= "10-22" && b_day_mmdd <= "11-21") {
            $("#t6-08").delay(7000).fadeIn(3000);
          } else if (b_day_mmdd >= "11-22" && b_day_mmdd <= "12-21") {
            $("#t6-09").delay(7000).fadeIn(3000);
          } else if (
            (b_day_mmdd >= "12-22" && b_day_mmdd <= "12-31") ||
            (b_day_mmdd >= "01-01" && b_day_mmdd <= "01-20")
          ) {
            $("#t6-10").delay(7000).fadeIn(3000);
          } else if (b_day_mmdd >= "01-21" && b_day_mmdd <= "02-20") {
            $("#t6-11").delay(7000).fadeIn(3000);
          } else if (b_day_mmdd >= "02-21" && b_day_mmdd <= "03-21") {
            $("#t6-12").delay(7000).fadeIn(3000);
          }
          $("#t6-13").delay(11000).fadeIn(3000);
        }
      });
    </script>
  </body>
</html>
