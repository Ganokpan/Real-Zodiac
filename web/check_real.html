<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Real Zodiac</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Prompt&display=swap"
      rel="stylesheet"
    />
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <script src="script/jquery-3.5.1.min.js"></script>
    <script
      src="https://kit.fontawesome.com/3437ca9b77.js"
      crossorigin="anonymous"
    ></script>
    <style>
      body {
        background-image: url("img/bg_main.png");
        background-size: cover;
      }
      .textbox {
        font-size: 36px;
        font-weight: bold;
        text-align: center;
        margin: 0;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        display: none;
      }
    </style>
  </head>

  <body>
    <div id="darken"></div>
    <a class="btn_skip" href="#" id="skip01"
      >Skip <i class="fas fa-step-forward"></i
    ></a>
    <a class="btn_skip" href="#" id="skip02"
      >Skip <i class="fas fa-step-forward"></i
    ></a>
    <a class="btn_skip" href="#" id="skip03"
      >Skip <i class="fas fa-step-forward"></i
    ></a>
    <!-- Text Part 1 -->
    <div id="t1" class="textbox">ไง! ตามมาแล้วเหรอ</div>
    <div id="t2" class="textbox">ดูท่าทางแล้วเธอคงอยากจะรู้จริงๆสินะ</div>
    <div id="t3" class="textbox">ฉันจะช่วยคำนวณราศีจริงของเธอเอง</div>
    <div id="t4" class="textbox">แต่ก่อนอื่นเลย</div>
    <div id="t5" class="textbox">
      <p>ฉันขอวันเกิดของเธอหน่อยสิ</p>
      <input id="date_input" type="date" />
      <p class="error" id="error01">
        เธอลืมใส่วันเกิดหรือใส่วันจากอนาคตรึเปล่า?
      </p>
      <button id="first_submit">ต่อไป</button>
    </div>

    <!-- Text Part 2 -->
    <div id="t6" class="textbox">
      <p>ราศีของเธอคือ...</p>
      <div id="t6-01" style="display: none">
        <img src="รูป3/เมษ.PNG" class="zodiac_result" />
        <p>ราศีเมษ</p>
      </div>
      <div id="t6-02" style="display: none">
        <img src="รูป3/พฤษภ.PNG" class="zodiac_result" />
        <p>ราศีพฤษภ</p>
      </div>
      <div id="t6-03" style="display: none">
        <img src="รูป3/เมถุน.PNG" class="zodiac_result" />
        <p>ราศีเมถุน</p>
      </div>
      <div id="t6-04" style="display: none">
        <img src="รูป3/กรกฎ.PNG" class="zodiac_result" />
        <p>ราศีกรกฎ</p>
      </div>
      <div id="t6-05" style="display: none">
        <img src="รูป3/สิงค์.PNG" class="zodiac_result" />
        <p>ราศีสิงห์</p>
      </div>
      <div id="t6-06" style="display: none">
        <img src="รูป3/กันย์.PNG" class="zodiac_result" />
        <p>ราศีกันย์</p>
      </div>
      <div id="t6-07" style="display: none">
        <img src="รูป3/ตุลย์.PNG" class="zodiac_result" />
        <p>ราศีตุลย์</p>
      </div>
      <div id="t6-08" style="display: none">
        <img src="รูป3/พิจิก.PNG" class="zodiac_result" />
        <p>ราศีพิจิก</p>
      </div>
      <div id="t6-09" style="display: none">
        <img src="รูป3/ธนู.PNG" class="zodiac_result" />
        <p>ราศีธนู</p>
      </div>
      <div id="t6-10" style="display: none">
        <img src="รูป3/มังกร.PNG" class="zodiac_result" />
        <p>ราศีมังกร</p>
      </div>
      <div id="t6-11" style="display: none">
        <img src="รูป3/กุมภ์.PNG" class="zodiac_result" />
        <p>ราศีกุมภ์</p>
      </div>
      <div id="t6-12" style="display: none">
        <img src="รูป3/มีน.PNG" class="zodiac_result" />
        <p>ราศีมีน</p>
      </div>
      <p id="t6-13" style="display: none; font-size: 18px">
        ถ้าอิงแค่ตามวันเกิดอะนะ...
      </p>
    </div>
    <div id="t7" class="textbox">หมู่ดาวที่เราเห็นบนท้องฟ้าเนี่ย...</div>
    <div id="t8" class="textbox">
      ยังมีการแบ่งกลุ่มเป็นซีกฟ้าทางเหนือกับซีกฟ้าทางใต้อีกนะ
    </div>
    <div id="t9" class="textbox">
      ซึ่งตำแหน่งและเวลาที่เธออยู่ ณ ตอนนี้ก็มีผลต่อการเห็นดาวพวกนั้นเหมือนกัน
    </div>
    <div id="t10" class="textbox">
      เพราะอย่างนั้นเลยใช้แค่วันเกิดของเธอไม่ได้หรอก
    </div>
    <div id="t11" class="textbox">ฉันเลยอยากจะขอข้อมูลเพิ่มเติมหน่อย...</div>
    <div id="t12" class="textbox">
      <p>เธอจำเวลาเกิดของตัวเองได้รึเปล่า?</p>
      <input id="time_input" type="time" />
      <p class="error" id="error02">อย่าลืมใส่เวลาเกิดด้วยสิ</p>
      <div>
        <button id="forgot" style="display: inline-block">จำไม่ได้</button>
        <button id="second_submit" style="display: inline-block">ต่อไป</button>
      </div>
    </div>

    <!-- Text Part 3 -->
    <div id="t13-1" class="textbox">
      ทีนี้ยังเหลือข้อมูลอีกอย่างที่ต้องถามล่ะนะ
    </div>
    <!-- If Forgot -->
    <div id="t13-2" class="textbox">
      ไม่เป็นไรๆ เดี๋ยวฉันจะใช้ค่าเริ่มต้นแทนให้ก็แล้วกัน
    </div>
    <div id="t14" class="textbox">อ่ะ...</div>
    <div id="t15" class="textbox">
      ดูเหมือนว่า Database สถานที่ของฉันจะพังแล้วล่ะ...
    </div>
    <div id="t16" class="textbox">
      คงคำนวณราศีแบบ Worldwide ให้เธอไม่ได้ซะแล้ว...
    </div>
    <div id="t17" class="textbox">ขอโทษนะ...</div>
    <div id="t18" class="textbox">
      ท่าทางคงใช้ได้แค่ Database ของประเทศไทยสินะ
    </div>
    <div id="t19" class="textbox">
      <p>ราศีของเธอคือ...</p>
      <div id="t19-01" style="display: none">
        <img src="รูป3/เมษ.PNG" class="zodiac_result" />
        <p>ราศีเมษ</p>
      </div>
      <div id="t19-02" style="display: none">
        <img src="รูป3/พฤษภ.PNG" class="zodiac_result" />
        <p>ราศีพฤษภ</p>
      </div>
      <div id="t19-03" style="display: none">
        <img src="รูป3/เมถุน.PNG" class="zodiac_result" />
        <p>ราศีเมถุน</p>
      </div>
      <div id="t19-04" style="display: none">
        <img src="รูป3/กรกฎ.PNG" class="zodiac_result" />
        <p>ราศีกรกฎ</p>
      </div>
      <div id="t19-05" style="display: none">
        <img src="รูป3/สิงค์.PNG" class="zodiac_result" />
        <p>ราศีสิงห์</p>
      </div>
      <div id="t19-06" style="display: none">
        <img src="รูป3/กันย์.PNG" class="zodiac_result" />
        <p>ราศีกันย์</p>
      </div>
      <div id="t19-07" style="display: none">
        <img src="รูป3/ตุลย์.PNG" class="zodiac_result" />
        <p>ราศีตุลย์</p>
      </div>
      <div id="t19-08" style="display: none">
        <img src="รูป3/พิจิก.PNG" class="zodiac_result" />
        <p>ราศีพิจิก</p>
      </div>
      <div id="t19-09" style="display: none">
        <img src="รูป3/ธนู.PNG" class="zodiac_result" />
        <p>ราศีธนู</p>
      </div>
      <div id="t19-10" style="display: none">
        <img src="รูป3/มังกร.PNG" class="zodiac_result" />
        <p>ราศีมังกร</p>
      </div>
      <div id="t19-11" style="display: none">
        <img src="รูป3/กุมภ์.PNG" class="zodiac_result" />
        <p>ราศีกุมภ์</p>
      </div>
      <div id="t19-12" style="display: none">
        <img src="รูป3/มีน.PNG" class="zodiac_result" />
        <p>ราศีมีน</p>
      </div>
      <button id="btn_home">Back to homepage</button>
    </div>

    <script>
      // Variables
      // Today Date
      var today = new Date();
      var dd = String(today.getDate()).padStart(2, "0");
      var mm = String(today.getMonth() + 1).padStart(2, "0"); //January is 0!
      var yyyy = today.getFullYear();
      today = yyyy + "-" + mm + "-" + dd;

      // Birthday
      var b_day;
      var b_day_mmdd;

      // Start Sign
      var start;

      // Calculated Sign
      var cal;

      // Time
      var time; // Format 24 Hours

      // Fade in texts
      $(document).ready(function () {
        $("#skip01").fadeIn(500);
        $("#t1").fadeIn(3000);
        $("#t1").delay(1000).fadeOut(3000);
        $("#t2").delay(7000).fadeIn(3000);
        $("#t2").delay(1000).fadeOut(3000);
        $("#t3").delay(14000).fadeIn(3000);
        $("#t3").delay(1000).fadeOut(3000);
        $("#t4").delay(21000).fadeIn(3000);
        $("#t4").delay(1000).fadeOut(3000);
        $("#skip01, #darken").delay(24000).fadeOut(3000);
        $("#t5").delay(28000).fadeIn(3000);
      });

      // First Submit
      $("#first_submit").click(function () {
        // Birthday
        var b_day_input = $("#date_input").val();
        b_day = new Date(b_day_input);
        var b_dd = String(b_day.getDate()).padStart(2, "0");
        var b_mm = String(b_day.getMonth() + 1).padStart(2, "0"); //January is 0!
        var b_yyyy = b_day.getFullYear();
        b_day = b_yyyy + "-" + b_mm + "-" + b_dd;
        b_day_mmdd = b_mm + "-" + b_dd;
        if (b_day > today) {
          $("#error01").fadeIn(500);
          $("#error01").delay(3500).fadeOut(500);
        } else {
          $("#t5").fadeOut(3000);
          $("#darken").fadeIn(3000);
          $("#t6").delay(3000).fadeIn(3000);
          if (b_day_mmdd >= "03-22" && b_day_mmdd <= "04-21") {
            $("#t6-01").delay(7000).fadeIn(3000);
            start = 1;
          } else if (b_day_mmdd >= "04-22" && b_day_mmdd <= "05-21") {
            $("#t6-02").delay(7000).fadeIn(3000);
            start = 2;
          } else if (b_day_mmdd >= "05-22" && b_day_mmdd <= "06-21") {
            $("#t6-03").delay(7000).fadeIn(3000);
            start = 3;
          } else if (b_day_mmdd >= "06-22" && b_day_mmdd <= "07-21") {
            $("#t6-04").delay(7000).fadeIn(3000);
            start = 4;
          } else if (b_day_mmdd >= "07-22" && b_day_mmdd <= "08-21") {
            $("#t6-05").delay(7000).fadeIn(3000);
            start = 5;
          } else if (b_day_mmdd >= "08-22" && b_day_mmdd <= "09-21") {
            $("#t6-06").delay(7000).fadeIn(3000);
            start = 6;
          } else if (b_day_mmdd >= "09-22" && b_day_mmdd <= "10-21") {
            $("#t6-07").delay(7000).fadeIn(3000);
            start = 7;
          } else if (b_day_mmdd >= "10-22" && b_day_mmdd <= "11-21") {
            $("#t6-08").delay(7000).fadeIn(3000);
            start = 8;
          } else if (b_day_mmdd >= "11-22" && b_day_mmdd <= "12-21") {
            $("#t6-09").delay(7000).fadeIn(3000);
            start = 9;
          } else if (
            (b_day_mmdd >= "12-22" && b_day_mmdd <= "12-31") ||
            (b_day_mmdd >= "01-01" && b_day_mmdd <= "01-20")
          ) {
            $("#t6-10").delay(7000).fadeIn(3000);
            start = 10;
          } else if (b_day_mmdd >= "01-21" && b_day_mmdd <= "02-20") {
            $("#t6-11").delay(7000).fadeIn(3000);
            start = 11;
          } else if (b_day_mmdd >= "02-21" && b_day_mmdd <= "03-21") {
            $("#t6-12").delay(7000).fadeIn(3000);
            start = 12;
          }
          $("#t6-13").delay(11000).fadeIn(3000);
          $("#t6").delay(9000).fadeOut(3000);
          $("#t7, #skip02").delay(18000).fadeIn(3000);
          $("#t7").delay(1000).fadeOut(3000);
          $("#t8").delay(25000).fadeIn(3000);
          $("#t8").delay(1000).fadeOut(3000);
          $("#t9").delay(32000).fadeIn(3000);
          $("#t9").delay(1000).fadeOut(3000);
          $("#t10").delay(39000).fadeIn(3000);
          $("#t10").delay(1000).fadeOut(3000);
          $("#t11").delay(46000).fadeIn(3000);
          $("#t11").delay(1000).fadeOut(3000);
          $("#skip02").delay(30000).fadeOut(3000);
          $("#t12").delay(53000).fadeIn(3000);
        }
      });

      // Second Submit
      $("#second_submit").click(function () {
        time = $("#time_input").val();
        if (time == "") {
          $("#error02").fadeIn(500);
          $("#error02").delay(3500).fadeOut(500);
        } else {
          $("#t12").fadeOut(3000);
          $("#darken").fadeIn(3000);
          $("#t13-1").delay(3000).fadeIn(3000);
          $("#t13-1").delay(1000).fadeOut(3000);
          partThree();
        }
      });
      // Forgot Time
      $("#forgot").click(function () {
        time = "06:00";
        $("#t12").fadeOut(3000);
        $("#darken").fadeIn(3000);
        $("#t13-2").delay(3000).fadeIn(3000);
        $("#t13-2").delay(1000).fadeOut(3000);
        partThree();
      });
      // Part 3
      function partThree() {
        calculate(start, time);
        $("#t14, #skip03").delay(10000).fadeIn(3000);
        $("#t14").delay(1000).fadeOut(3000);
        $("#t15").delay(17000).fadeIn(3000);
        $("#t15").delay(1000).fadeOut(3000);
        $("#t16").delay(24000).fadeIn(3000);
        $("#t16").delay(1000).fadeOut(3000);
        $("#t17").delay(31000).fadeIn(3000);
        $("#t17").delay(1000).fadeOut(3000);
        $("#t18").delay(38000).fadeIn(3000);
        $("#t18").delay(1000).fadeOut(3000);
        $("#skip03").delay(30000).fadeOut(3000);
        $("#t19").delay(45000).fadeIn(3000);
        if (cal == 1) {
          $("#t19-01").delay(49000).fadeIn(3000);
        } else if (cal == 2) {
          $("#t19-02").delay(49000).fadeIn(3000);
        } else if (cal == 3) {
          $("#t19-03").delay(49000).fadeIn(3000);
        } else if (cal == 4) {
          $("#t19-04").delay(49000).fadeIn(3000);
        } else if (cal == 5) {
          $("#t19-05").delay(49000).fadeIn(3000);
        } else if (cal == 6) {
          $("#t19-06").delay(49000).fadeIn(3000);
        } else if (cal == 7) {
          $("#t19-07").delay(49000).fadeIn(3000);
        } else if (cal == 8) {
          $("#t19-08").delay(49000).fadeIn(3000);
        } else if (cal == 9) {
          $("#t19-09").delay(49000).fadeIn(3000);
        } else if (cal == 10) {
          $("#t19-10").delay(49000).fadeIn(3000);
        } else if (cal == 11) {
          $("#t19-11").delay(49000).fadeIn(3000);
        } else if (cal == 12) {
          $("#t19-12").delay(49000).fadeIn(3000);
        }
        $("#btn_home").delay(55000).fadeIn(3000);
      }

      // Calculate
      function calculate(start, time) {
        cal = start;
        if (time >= "06:00" && time < "08:00") {
          cal += 1;
        } else if (time >= "08:00" && time < "10:00") {
          cal += 2;
        } else if (time >= "10:00" && time < "12:00") {
          cal += 3;
        } else if (time >= "12:00" && time < "14:00") {
          cal += 4;
        } else if (time >= "14:00" && time < "16:00") {
          cal += 5;
        } else if (time >= "16:00" && time < "18:00") {
          cal += 6;
        } else if (time >= "18:00" && time < "20:00") {
          cal += 7;
        } else if (time >= "20:00" && time < "22:00") {
          cal += 8;
        } else if (time >= "22:00" && time <= "23:59") {
          cal += 9;
        } else if (time >= "00:00" && time <= "02:00") {
          cal += 10;
        } else if (time >= "02:00" && time <= "04:00") {
          cal += 11;
        } else if (time >= "04:00" && time <= "06:00") {
          cal += 12;
        }
        if (cal >= 13) cal -= 12;
        return cal;
      }

      // Skip Button
      $("#skip01").click(function (e) {
        e.preventDefault();
        $("#t1, #t2, #t3, #t4, #t5, #skip01, #darken")
          .stop(true, true)
          .fadeOut(1000);
        $("#t5").delay(1000).fadeIn(3000);
        $("#skip01, #darken").fadeOut(500);
      });
      $("#skip02").click(function (e) {
        e.preventDefault();
        $("#t6, #t7, #t8, #t9, #t10, #t11, #t12, #skip02, #darken")
          .stop(true, true)
          .fadeOut(1000);
        $("#t12").delay(1000).fadeIn(3000);
        $("#skip02, #darken").fadeOut(500);
      });
      $("#skip03").click(function (e) {
        e.preventDefault();
        $("#t12, #t13-1, #t13-2, #t14, #t15, #t16, #t17, #t18, #t19, #skip03")
          .stop(true, true)
          .fadeOut(1000);
        $("#skip03").fadeOut(500);
        $("#t19").delay(1000).fadeIn(3000);
        if (cal == 1) {
          $("#t19-01").css("display", "block");
        } else if (cal == 2) {
          $("#t19-02").css("display", "block");
        } else if (cal == 3) {
          $("#t19-03").css("display", "block");
        } else if (cal == 4) {
          $("#t19-04").css("display", "block");
        } else if (cal == 5) {
          $("#t19-05").css("display", "block");
        } else if (cal == 6) {
          $("#t19-06").css("display", "block");
        } else if (cal == 7) {
          $("#t19-07").css("display", "block");
        } else if (cal == 8) {
          $("#t19-08").css("display", "block");
        } else if (cal == 9) {
          $("#t19-09").css("display", "block");
        } else if (cal == 10) {
          $("#t19-10").css("display", "block");
        } else if (cal == 11) {
          $("#t19-11").css("display", "block");
        } else if (cal == 12) {
          $("#t19-12").css("display", "block");
        }
        $("#btn_home").css("display", "block");
      });

      $("#btn_home").click(function () {
        window.location.href = "index.html";
      });
    </script>
  </body>
</html>
